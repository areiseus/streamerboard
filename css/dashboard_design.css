/* css/dashboard_design.css */

/* [기본 설정] */
body { margin: 0; background: #f0f2f5; font-family: 'Pretendard', sans-serif; overflow-x: hidden; height: 100vh; color: #333; }
.container { width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; }
.admin-link { position: fixed; top: 20px; right: 20px; font-size: 1.5rem; text-decoration: none; opacity: 0.5; z-index: 2000; }

/* [헤더] */
header { flex: 0 0 auto; width: 100%; background: #fff; padding: 15px 0; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); z-index: 100; border-bottom: 1px solid #eee; }
h1 { margin: 0 0 5px 0; font-size: 1.8rem; font-weight: 900; color: #333; letter-spacing: -1px; }
.refresh-btn { background: #333; color: #fff; border: 1px solid #444; padding: 6px 15px; border-radius: 4px; font-size: 0.85rem; font-weight: bold; cursor: pointer; }
.refresh-btn:hover { background: #555; }

/* [메인 영역 - 정렬 문제 수정됨] */
#main-area {
    flex: 1; 
    width: 100%; 
    position: relative; 
    overflow: auto; /* 스크롤 허용 */
    background: radial-gradient(circle at 50% 50%, #ffffff 0%, #e9ecef 100%);
    
    /* Flex 제거 -> Block 레이아웃 사용 (잘림 방지) */
    display: block; 
    text-align: center; /* 내부 요소 중앙 정렬 */
    padding: 60px 0; /* 상하 패딩만 줌 */
}

/* [컨텐츠 래퍼 - 중앙 정렬 및 여백] */
#content-wrapper {
    position: relative;
    /* JS에서 width가 설정되지만, 기본적으로 중앙 정렬 */
    margin: 0 auto; 
    display: inline-block; /* text-align: center의 영향을 받아 중앙에 위치 */
    text-align: left; /* 내부 텍스트는 다시 왼쪽 정렬 */
    min-height: 800px;
}

svg { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none; overflow: visible; }
#card-overlay { width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 2; }

/* [하단 영역] */
#footer-area {
    flex: 0 0 auto; width: 90%; max-width: 1200px; background: #fff;
    border-top: 1px solid #ddd; padding: 20px; margin-bottom: 20px; border-radius: 10px;
    box-shadow: 0 -2px 10px rgba(0,0,0,0.05); z-index: 10;
}
.footer-header { font-weight: bold; color: #555; margin-bottom: 10px; border-bottom: 2px solid #eee; padding-bottom: 5px; text-align: center; }
.no-group-grid { display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; }

/* [CARD 디자인] */
.card {
    position: absolute; 
    width: 260px; height: 210px; 
    background: #fff; border-radius: 20px; 
    border: 1px solid #ddd; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    display: flex; flex-direction: row; 
    padding: 20px; box-sizing: border-box;
    gap: 12px;
    cursor: pointer; transition: transform 0.2s, top 0.5s, left 0.5s;
    z-index: 10; overflow: hidden;
    will-change: transform;
}
.card:hover { transform: scale(1.05); z-index: 999; box-shadow: 0 8px 25px rgba(0,0,0,0.15); border-color: #bbb; }

/* [치지직 테마] */
.card.chzzk-theme { background: #2c2f33; border-color: #40444b; color: #fff; }
.card.chzzk-theme:hover { border-color: #00ffa3; }

/* 좌측 섹션 */
.card-left { flex: 0 0 85px; display: flex; flex-direction: column; align-items: center; justify-content: flex-start; }
.platform-logo { height: 16px; object-fit: contain; margin-bottom: 8px; }
.img-wrap { position: relative; width: 75px; height: 75px; display: flex; flex-direction: column; align-items: center; }
.profile-img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid #f0f0f0; transition: border-color 0.3s; }
.card.chzzk-theme .profile-img { border-color: #444; }

/* ON/OFF 배지 */
.status-badge { margin-top: 8px; font-size: 0.7rem; font-weight: 800; padding: 4px 10px; border-radius: 12px; color: #fff; box-shadow: none; white-space: nowrap; }
.badge-live { background: #ff4757 !important; } /* 우선순위 높임 */
.badge-off { background: #adb5bd !important; }

.user-info-box { width: 100%; text-align: center; margin-top: 4px; }
.nick { font-size: 1.0rem; font-weight: 800; color: #333; line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 2px; }
.id-text { font-size: 0.7rem; color: #999; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; display: block; }
.card.chzzk-theme .nick { color: #fff; }
.card.chzzk-theme .id-text { color: #aaa; }

/* 우측 섹션 */
.card-right { flex: 1; display: flex; flex-direction: column; justify-content: space-between; padding-bottom: 0; min-width: 0; }
.group-list { display: flex; flex-direction: column; gap: 5px; overflow-y: auto; max-height: 120px; }
.group-item { font-size: 0.75rem; background: #f8f9fa; color: #495057; padding: 6px 8px; border-radius: 6px; font-weight: 700; display: flex; align-items: center; justify-content: flex-start; gap: 6px; }
.group-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; margin-right: 2px; }
.card.chzzk-theme .group-item { background: #3a3e44; color: #ddd; }

.stats-container { margin-top: auto; display: flex; flex-direction: column; align-items: flex-end; gap: 2px; }
.stat-row { font-size: 0.8rem; color: #444; font-weight: 700; }
.stat-label { font-weight: normal; color: #888; font-size: 0.7rem; margin-right: 4px; }
.card.chzzk-theme .stat-row { color: #eee; }
.card.chzzk-theme .stat-label { color: #bbb; }

/* 라이브 효과 */
.card.is-live { border-color: #ff4757; background: #fffbfb; }
.card.chzzk-theme.is-live { background: #3b2e30; border-color: #ff4757; }
.card.is-live .profile-img { border-color: #ff4757; animation: pulse 2s infinite; }

.no-group-grid .card { position: relative; left: auto !important; top: auto !important; }

/* [풍선 스타일] */
.group-hull { fill-opacity: 0.08; stroke-linejoin: round; stroke-linecap: round; mix-blend-mode: multiply; transition: d 0.5s; }
.group-label { font-size: 16px; font-weight: 900; text-anchor: middle; pointer-events: none; user-select: none; paint-order: stroke; stroke: rgba(255,255,255,0.95); stroke-width: 6px; stroke-linecap: round; stroke-linejoin: round; }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(255,71,87,0.6); } 70% { box-shadow: 0 0 0 8px rgba(255,71,87,0); } 100% { box-shadow: 0 0 0 0 rgba(255,71,87,0); } }
